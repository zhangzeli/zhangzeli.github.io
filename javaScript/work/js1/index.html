<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>24个ES6方法 | 泽泽Plus+搬砖师傅</title><meta name="description" content="很实用的24个ES6方法，用来解决实际开发的问提。"><meta name="keywords" content="js,node,es6"><meta name="author" content="泽泽853089986@qq.com"><meta name="copyright" content="泽泽853089986@qq.com"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="http://img.zeze.info/img/avatar/haizeiwang.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="dns-prefetch" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="crossorigin"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://hm.baidu.com"><link rel="dns-prefetch" href="https://hm.baidu.com"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="dns-prefetch" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="mBkx3v13jY7xHaep_e72zBXO_qIjx0MTHNxDrYlz-PI"><meta name="baidu-site-verification" content="agXWMOrk01"><meta name="360-site-verification" content="6baddbc95d86be25e83904dcdeef9a99"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="24个ES6方法"><meta name="twitter:description" content="很实用的24个ES6方法，用来解决实际开发的问提。"><meta name="twitter:image" content="http://img.zeze.info/img/js/25ES6/1.gif!www.zeze.info"><meta property="og:type" content="article"><meta property="og:title" content="24个ES6方法"><meta property="og:url" content="http://www.zeze.info/javaScript/work/js1/"><meta property="og:site_name" content="泽泽Plus+搬砖师傅"><meta property="og:description" content="很实用的24个ES6方法，用来解决实际开发的问提。"><meta property="og:image" content="http://img.zeze.info/img/js/25ES6/1.gif!www.zeze.info"><meta property="article:published_time" content="2020-03-04T15:25:00.000Z"><meta property="article:modified_time" content="2021-08-10T01:23:42.998Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="http://www.zeze.info/javaScript/work/js1/"><link rel="prev" title="都说ThreadLocal被面试官问烂了，可为什么面试官还是喜欢继续问" href="http://www.zeze.info/java/concurrent/threadLocal/"><link rel="next" title="你本可以少写些 If-Else" href="http://www.zeze.info/javaScript/oop/if-else/"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-5254611080539269',
  enable_page_level_ads: 'true'
});</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?afe63e75677b03375980b2bcf8239700";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'G-H84S8BZ8BP', 'auto');
ga('send', 'pageview');
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://www.zeze.info/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: 泽泽853089986@qq.com","link":"链接: ","source":"来源: 泽泽Plus+搬砖师傅","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: false,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: true,
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: true
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhangzeli/StaticFile@latest/hexo/butterfly/css/myself.css"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="泽泽Plus+搬砖师傅" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="http://img.zeze.info/img/avatar/haizeiwang.jpg" onerror="onerror=null;src='http://img.zeze.info/img/404/loading.gif!www.zeze.info'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">47</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">19</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/me.html"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comment"><i class="fa-fw fa fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/404/"><i class="fa-fw fas fa-hands-helping"></i><span> 帮助他们</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#介绍25种很实用的ES6方法，来解决实际开发中的问题"><span class="toc-number">1.</span> <span class="toc-text">介绍25种很实用的ES6方法，来解决实际开发中的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-如何隐藏所有指定的元素"><span class="toc-number">2.</span> <span class="toc-text">1. 如何隐藏所有指定的元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-如何检查元素是否具有指定的类"><span class="toc-number">3.</span> <span class="toc-text">2. 如何检查元素是否具有指定的类</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-如何切换一个元素的类"><span class="toc-number">4.</span> <span class="toc-text">3. 如何切换一个元素的类</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-如何获取当前页面的滚动位置"><span class="toc-number">5.</span> <span class="toc-text">4. 如何获取当前页面的滚动位置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-如何平滑滚动到页面顶部"><span class="toc-number">6.</span> <span class="toc-text">5. 如何平滑滚动到页面顶部</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-如何检查指定的元素在视口中是否可见"><span class="toc-number">7.</span> <span class="toc-text">6. 如何检查指定的元素在视口中是否可见</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-如何检查父元素是否包含子元素"><span class="toc-number">8.</span> <span class="toc-text">7. 如何检查父元素是否包含子元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-如何获取元素中的所有图像？"><span class="toc-number">9.</span> <span class="toc-text">8. 如何获取元素中的所有图像？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-如何确定设备是移动设备还是台式机-笔记本电脑"><span class="toc-number">10.</span> <span class="toc-text">9. 如何确定设备是移动设备还是台式机&#x2F;笔记本电脑</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-获取当前url"><span class="toc-number">11.</span> <span class="toc-text">10. 获取当前url</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-验证url的格式合法性"><span class="toc-number">12.</span> <span class="toc-text">11. 验证url的格式合法性</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12-如何创建一个包含当前URL参数的对象"><span class="toc-number">13.</span> <span class="toc-text">12. 如何创建一个包含当前URL参数的对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13-如何将一组表单元素转化为对象"><span class="toc-number">14.</span> <span class="toc-text">13. 如何将一组表单元素转化为对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14-如何从对象检索给定选择器指示的一组属性"><span class="toc-number">15.</span> <span class="toc-text">14. 如何从对象检索给定选择器指示的一组属性</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#15-如何在等待指定时间后调用提供的函数"><span class="toc-number">16.</span> <span class="toc-text">15. 如何在等待指定时间后调用提供的函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#16-如何在给定元素上触发特定事件且能选择地传递自定义数据"><span class="toc-number">17.</span> <span class="toc-text">16. 如何在给定元素上触发特定事件且能选择地传递自定义数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#17-如何从元素中移除事件监听器"><span class="toc-number">18.</span> <span class="toc-text">17. 如何从元素中移除事件监听器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#18-如何获得给定毫秒数的可读格式"><span class="toc-number">19.</span> <span class="toc-text">18. 如何获得给定毫秒数的可读格式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#19-如何获得两个日期之间的差异（以天为单位）"><span class="toc-number">20.</span> <span class="toc-text">19. 如何获得两个日期之间的差异（以天为单位）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#20-如何向传递的URL发出GET请求"><span class="toc-number">21.</span> <span class="toc-text">20. 如何向传递的URL发出GET请求</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#21-如何对传递的URL发出POST请求"><span class="toc-number">22.</span> <span class="toc-text">21. 如何对传递的URL发出POST请求</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#22-如何为指定选择器创建具有指定范围，步长和持续时间的计数器"><span class="toc-number">22.1.</span> <span class="toc-text">22. 如何为指定选择器创建具有指定范围，步长和持续时间的计数器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#23-如何将字符串复制到剪贴板"><span class="toc-number">23.</span> <span class="toc-text">23. 如何将字符串复制到剪贴板</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#24-如何确定页面的浏览器选项卡是否聚焦"><span class="toc-number">24.</span> <span class="toc-text">24. 如何确定页面的浏览器选项卡是否聚焦</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#25-如何创建目录（如果不存在）"><span class="toc-number">25.</span> <span class="toc-text">25. 如何创建目录（如果不存在）</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(http://img.zeze.info/img/js/25ES6/1.gif!www.zeze.info)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">泽泽Plus+搬砖师傅</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/me.html"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comment"><i class="fa-fw fa fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/404/"><i class="fa-fw fas fa-hands-helping"></i><span> 帮助他们</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">24个ES6方法</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-03-04 15:25:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-03-04</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-08-10 01:23:42"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2021-08-10</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/javaScript/">javaScript</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/es6/">es6</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon far fa-file-word" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">2.7k</span><span class="post-meta__separator">|</span><i class="post-meta__icon far fa-clock" aria-hidden="true"></i><span>阅读时长: 11 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon far fa-comments" aria-hidden="true"></i><span>评论数:</span><a href="/javaScript/work/js1/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/javaScript/work/js1/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="介绍25种很实用的ES6方法，来解决实际开发中的问题"><a href="#介绍25种很实用的ES6方法，来解决实际开发中的问题" class="headerlink" title="介绍25种很实用的ES6方法，来解决实际开发中的问题"></a>介绍25种很实用的ES6方法，来解决实际开发中的问题</h1><p>原创 @泽泽vlog 昨天</p>
<p>主要是介绍25种ES6方法，这些方法都挺实用的，用本本记好要考的，嘿嘿嘿。时不时翻出来看看</p>
<h1 id="1-如何隐藏所有指定的元素"><a href="#1-如何隐藏所有指定的元素" class="headerlink" title="1. 如何隐藏所有指定的元素"></a>1. 如何隐藏所有指定的元素</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> hide = <span class="function">(<span class="params">el</span>)=&gt;</span></span><br><span class="line">  [...el].forEach(<span class="function"><span class="params">e</span>=&gt;</span>e.style.display = <span class="string">'none'</span>)</span><br><span class="line">hide(<span class="built_in">document</span>.querySelectorAll(<span class="string">'img'</span>))</span><br></pre></td></tr></table></figure>

<h1 id="2-如何检查元素是否具有指定的类"><a href="#2-如何检查元素是否具有指定的类" class="headerlink" title="2. 如何检查元素是否具有指定的类"></a>2. 如何检查元素是否具有指定的类</h1><p>在页面DOM里的每个节点上都有一个classList对象，程序员可以使用里面的方法新增、删除、修改节点上的CSS类。使用classList，程序员还可以用它来判断某个节点是否被赋予了某个CSS类</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> hasClass = <span class="function">(<span class="params">el,className</span>)=&gt;</span>el.classList.contains(className)</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">hasClass(<span class="built_in">document</span>.querySelector(<span class="string">'div.s_form_wrapper '</span>),<span class="string">'soutu-env-nomac'</span>)</span><br></pre></td></tr></table></figure>

<h1 id="3-如何切换一个元素的类"><a href="#3-如何切换一个元素的类" class="headerlink" title="3. 如何切换一个元素的类"></a>3. 如何切换一个元素的类</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> toggleClass =<span class="function">(<span class="params">el,className</span>)=&gt;</span>el.classList.toggle(className)</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例 移除div具有`s_form_wrapper`的类</span></span><br><span class="line">toggleClass( <span class="built_in">document</span>.querySelector(<span class="string">'div.s_form_wrapper '</span>),<span class="string">'s_form_wrapper'</span>)</span><br></pre></td></tr></table></figure>

<h1 id="4-如何获取当前页面的滚动位置"><a href="#4-如何获取当前页面的滚动位置" class="headerlink" title="4. 如何获取当前页面的滚动位置"></a>4. 如何获取当前页面的滚动位置</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getScrollPosition =<span class="function">(<span class="params">el=<span class="built_in">window</span></span>)=&gt;</span>(&#123;</span><br><span class="line">    x:el.pageXOffset !==<span class="literal">undefined</span> ? el.pageXOffset:el.scrollLeft,</span><br><span class="line">    y:el.pageYOffset !==<span class="literal">undefined</span> ? el.pageYOffset:el.scrollTop</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">getScrollPosition() <span class="comment">//&#123;x: 0, y: 600&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="5-如何平滑滚动到页面顶部"><a href="#5-如何平滑滚动到页面顶部" class="headerlink" title="5. 如何平滑滚动到页面顶部"></a>5. 如何平滑滚动到页面顶部</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> scrollToTop=<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop</span><br><span class="line">    <span class="keyword">if</span>(c &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">window</span>.requestAnimationFrame(scrollToTop)</span><br><span class="line">        <span class="built_in">window</span>.scrollTo(<span class="number">0</span>,c-c/<span class="number">8</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">scrollToTop()</span><br></pre></td></tr></table></figure>

<p><code>requestAnimationFrame()</code>不需要设置时间间隔，是由系统的时间间隔定义的。大多数浏览器的刷新频率是60Hz(每秒钟反复绘制60次)，循环间隔是1000/60，约等于16.7ms。大多数浏览器会对反复挥着这个操作加以限制，不能超过60HZ，即使人为设置超过了该值，效果也不会改善。<code>requestAnimationFrame()</code>保证了最佳的绘制效率。<br>当页面被隐藏或者最小化时，<code>setInterval()</code>仍在后台继续执行，这种动画刷新是完全没有意义的，对cpu也是极大的浪费；<br>当页面被隐藏或者最小化时，<code>requestAnimationFramel()</code>中页面的渲染会被系统暂停，当页面再次激活后，继续从上次停止地方继续绘制；</p>
<h1 id="6-如何检查指定的元素在视口中是否可见"><a href="#6-如何检查指定的元素在视口中是否可见" class="headerlink" title="6. 如何检查指定的元素在视口中是否可见"></a>6. 如何检查指定的元素在视口中是否可见</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> elmentIsVisibleInViewport = <span class="function">(<span class="params">el,partiallyVisible=<span class="literal">false</span></span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;top,left,bottom,right &#125; = el.getBoundingClientRect();</span><br><span class="line">    <span class="keyword">const</span> &#123; innerHeight ,innerWidth &#125; = <span class="built_in">window</span>;</span><br><span class="line">    <span class="keyword">return</span> partiallyVisible</span><br><span class="line">    ?((top &gt; <span class="number">0</span> &amp;&amp; top &lt; innerHeight ) ||( bottom &gt; <span class="number">0</span> &amp;&amp; bottom &lt; innerHeight )) &amp;&amp;</span><br><span class="line">    ((left &gt; <span class="number">0</span> &amp;&amp; left &lt; innerWidth ) || (right &gt; <span class="number">0</span> &amp;&amp; right &lt; innerWidth ))</span><br><span class="line">    : top &gt;= <span class="number">0</span> &amp;&amp; left &gt;=<span class="number">0</span> &amp;&amp; bottom &lt;= innerHeight &amp;&amp; right &lt;= innerWidth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">elmentIsVisibleInViewport(el);<span class="comment">//需要左右可见</span></span><br><span class="line">elmentIsVisibleInViewport(el,<span class="literal">true</span>);<span class="comment">//需要全屏(上下左右)可见</span></span><br></pre></td></tr></table></figure>

<h1 id="7-如何检查父元素是否包含子元素"><a href="#7-如何检查父元素是否包含子元素" class="headerlink" title="7. 如何检查父元素是否包含子元素"></a>7. 如何检查父元素是否包含子元素</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> elementContains =<span class="function">(<span class="params">parent,child</span>)=&gt;</span>parent !== child &amp;&amp; parent.contains(child);</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">elementContains(<span class="built_in">document</span>.querySelector(<span class="string">'head'</span>),<span class="built_in">document</span>.querySelector(<span class="string">'title'</span>)</span><br><span class="line"><span class="comment">//true</span></span><br><span class="line">elementContains(<span class="built_in">document</span>.querySelector(<span class="string">'body'</span>),<span class="built_in">document</span>.querySelector(<span class="string">'body'</span>)</span><br><span class="line"><span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h1 id="8-如何获取元素中的所有图像？"><a href="#8-如何获取元素中的所有图像？" class="headerlink" title="8. 如何获取元素中的所有图像？"></a>8. 如何获取元素中的所有图像？</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getImages = <span class="function">(<span class="params">el,includeDuplicates = <span class="literal">false</span></span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> images = [...el.getElementByTagName(<span class="string">'img'</span>)].map(<span class="function"><span class="params">img</span> =&gt;</span> img.getAttribute(<span class="string">'src'</span>));</span><br><span class="line">    <span class="keyword">return</span> includeDuplicates?images:[...new <span class="built_in">Set</span>(images)];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例  includeDuplicates 为 true 表示需要重复元素</span></span><br><span class="line">getImages(<span class="built_in">document</span>,<span class="literal">true</span>)</span><br><span class="line">getImages(<span class="built_in">document</span>,<span class="literal">false</span>)</span><br></pre></td></tr></table></figure>
<h1 id="9-如何确定设备是移动设备还是台式机-笔记本电脑"><a href="#9-如何确定设备是移动设备还是台式机-笔记本电脑" class="headerlink" title="9. 如何确定设备是移动设备还是台式机/笔记本电脑"></a>9. 如何确定设备是移动设备还是台式机/笔记本电脑</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> detectDeviceType = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="regexp">/Android|webOS|iPhone|iPad|BlackBerry|IEMobile|Opera Mini/i</span></span><br><span class="line">    .test(navigator.userAgent)?<span class="string">'Mobile'</span>:<span class="string">'Desktop'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">detectDeviceType();</span><br></pre></td></tr></table></figure>

<h1 id="10-获取当前url"><a href="#10-获取当前url" class="headerlink" title="10. 获取当前url"></a>10. 获取当前url</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> currentURL =<span class="function"><span class="params">()</span> =&gt;</span>&#123;<span class="built_in">window</span>.location.href&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">currentURL();<span class="comment">//www.zeze.info</span></span><br></pre></td></tr></table></figure>

<h1 id="11-验证url的格式合法性"><a href="#11-验证url的格式合法性" class="headerlink" title="11. 验证url的格式合法性"></a>11. 验证url的格式合法性</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isURL=<span class="function">(<span class="params">str_url</span>)=&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> reg = <span class="regexp">/(?:(https?|ftp|file):)?\/\/[-A-Za-z0-9+&amp;@#/%?=~_|!:,.;]+[-A-Za-z0-9+&amp;@#/%=~_|]/</span>;</span><br><span class="line">    <span class="keyword">let</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(reg);</span><br><span class="line">    <span class="keyword">return</span> re.test(str_url);</span><br><span class="line">&#125;</span><br><span class="line">isURL(<span class="string">'http://www.zeze.info'</span>)</span><br></pre></td></tr></table></figure>

<h1 id="12-如何创建一个包含当前URL参数的对象"><a href="#12-如何创建一个包含当前URL参数的对象" class="headerlink" title="12. 如何创建一个包含当前URL参数的对象"></a>12. 如何创建一个包含当前URL参数的对象</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getURLParameters = <span class="function"><span class="params">url</span> =&gt;</span>(url.match(<span class="regexp">/([^?=&amp;]+)(=([^&amp;]*))/g</span>) || []).reduce(</span><br><span class="line">    (accumulator,currentValue) =&gt; ((accumulator[currentValue.slice(<span class="number">0</span>,v.indexOf(<span class="string">'='</span>))] = currentValue.slice(currentValue.indexOf(<span class="string">'='</span>)+<span class="number">1</span>)),accumulator)</span><br><span class="line">    ,&#123;&#125;</span><br><span class="line">);</span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">getURLParameters(<span class="string">'http://www.zeze.info/index?a=1&amp;b=2'</span>) <span class="comment">//&#123;a:1,b:2&#125;</span></span><br><span class="line">getURLParameters(<span class="string">'http://www.zeze.info'</span>) <span class="comment">//&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="13-如何将一组表单元素转化为对象"><a href="#13-如何将一组表单元素转化为对象" class="headerlink" title="13. 如何将一组表单元素转化为对象"></a>13. 如何将一组表单元素转化为对象</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> formToObject = <span class="function"><span class="params">form</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">Array</span>.from(<span class="keyword">new</span> FormData(form)).reduce(</span><br><span class="line">        (acc,[key,value])=&gt;(&#123;</span><br><span class="line">            ...acc,</span><br><span class="line">            [key]:value</span><br><span class="line">        &#125;),</span><br><span class="line">        &#123;&#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">formToObject(<span class="built_in">document</span>.querySelector(<span class="string">'#from'</span>))</span><br><span class="line"><span class="comment">//&#123;email:'test@email.com',name:'www.zeze.info'&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="14-如何从对象检索给定选择器指示的一组属性"><a href="#14-如何从对象检索给定选择器指示的一组属性" class="headerlink" title="14. 如何从对象检索给定选择器指示的一组属性"></a>14. 如何从对象检索给定选择器指示的一组属性</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">get</span> =(from,...selectos)=&gt;</span><br><span class="line">    [...selectos].map(s=&gt;</span><br><span class="line">        s</span><br><span class="line">        .replace(/\[([^\[\]]*)\]/g,'.$1.')</span><br><span class="line">        .split('.')</span><br><span class="line">        .filter(t=&gt; t !=='')</span><br><span class="line">        .reduce((prev,cur)=&gt;prev &amp;&amp; prev[cur],from)</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">const obj = &#123; selector:&#123;<span class="attr">to</span>:&#123;<span class="attr">val</span>:<span class="string">'val to select'</span> &#125; &#125;, <span class="attr">target</span>:[<span class="number">1</span>,<span class="number">2</span>,&#123;<span class="attr">a</span>:<span class="string">'test'</span>&#125;] &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line"><span class="keyword">get</span>(obj,'selector.to.val','target[0]','target[2].a')</span><br><span class="line">// ["val to select", 1, "test"]</span><br></pre></td></tr></table></figure>

<h1 id="15-如何在等待指定时间后调用提供的函数"><a href="#15-如何在等待指定时间后调用提供的函数" class="headerlink" title="15. 如何在等待指定时间后调用提供的函数"></a>15. 如何在等待指定时间后调用提供的函数</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> delay =<span class="function">(<span class="params">fn,wait,...args</span>)=&gt;</span>setTimeout(fn,wait,...args)</span><br><span class="line"></span><br><span class="line">delay(</span><br><span class="line">    (test)=&gt;<span class="built_in">console</span>.info(test),</span><br><span class="line">    <span class="number">1000</span>,</span><br><span class="line">    <span class="string">'later'</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h1 id="16-如何在给定元素上触发特定事件且能选择地传递自定义数据"><a href="#16-如何在给定元素上触发特定事件且能选择地传递自定义数据" class="headerlink" title="16. 如何在给定元素上触发特定事件且能选择地传递自定义数据"></a>16. 如何在给定元素上触发特定事件且能选择地传递自定义数据</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 创建一个事件对象，名字为newEvent，类型为build */</span></span><br><span class="line"><span class="keyword">var</span> newEvent = <span class="keyword">new</span> Event(<span class="string">'build'</span>, &#123; <span class="attr">bubbles</span>:<span class="literal">true</span>,<span class="attr">cancelable</span>:<span class="literal">true</span>,<span class="attr">composed</span>:<span class="literal">true</span> &#125;);</span><br><span class="line">    </span><br><span class="line"><span class="comment">/* 给这个事件对象创建一个属性并赋值 */</span></span><br><span class="line">newEvent.name = <span class="string">"新的事件！"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 将自定义事件绑定在document对象上，这里绑定的事件要和我们创建的事件类型相同，不然无法触发 */</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"build"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"你触发了自定义事件！"</span> + newEvent.name);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">/* 触发自定义事件 */</span></span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(newEvent);</span><br></pre></td></tr></table></figure>

<p>启动文档的时候因为”document.dispatchEvent(newEvent)”的关系，会先触发一次事件：</p>
<p><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="http://img.zeze.info/img/js/25ES6/1.png!www.zeze.info" alt="事件对象"></p>
<p>之后你每执行一次”document.dispatchEvent(newEvent)”都会触发这个事件：</p>
<p><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="http://img.zeze.info/img/js/25ES6/1.gif!www.zeze.info" alt="事件对象"></p>
<p>接下来我们看看Event()这个方法的语法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">event = <span class="keyword">new</span> Event(typeArg, eventInit);</span><br></pre></td></tr></table></figure>

<p>typeArg：指定事件类型，传递一个字符串。这里的事件类型指的是像点击事件（click）、提交事件（submit）、加载事件（load）等等。<br>eventInit：可选，传递EventInit类型的字典。实际上这个EventInit类型的字典也就是我们使用InitEvent()时需要传递的参数，以键值对的形式传递，不过它可以多选一个参数：<br>bubbles：事件是否支持冒泡，传递一个boolean类型的参数，默认值为false。<br>cancelable：是否可取消事件的默认行为，传递一个boolean类型的参数，默认值为false。<br>composed：事件是否会触发shadow DOM（阴影DOM）根节点之外的事件监听器，传递一个boolean类型的参数，默认值为false。（关于shadow DOM可以去看<a href="https://www.cnblogs.com/coco1s/p/5711795.html" target="_blank" rel="external nofollow noopener noreferrer">ChokCoco前辈的这篇文章</a>，这里就不详说了，可能我会根据自己的理解也写一个关于shadow DOM的笔记）这个参数是InitEvent()中没有的新参数。</p>
<p>我们先通过下面的例子了解一下如何使用CustomEvent()去创建一个事件对象（这里先不使用事件相关值detail）;</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/* 创建一个事件对象，名字为newEvent，类型为build */</span></span><br><span class="line"><span class="keyword">var</span> newEvent = <span class="keyword">new</span> CustomEvent(<span class="string">'build'</span>, &#123; <span class="attr">bubbles</span>:<span class="literal">true</span>,<span class="attr">cancelable</span>:<span class="literal">true</span>,<span class="attr">composed</span>:<span class="literal">true</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 给这个事件对象创建一个属性并赋值，这里绑定的事件要和我们创建的事件类型相同，不然无法触发 */</span></span><br><span class="line">newEvent.name = <span class="string">"新的事件！"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 将自定义事件绑定在document对象上 */</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"build"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"你触发了使用CustomEvent创建的自定义事件！"</span> + newEvent.name);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">/* 触发自定义事件 */</span></span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(newEvent);</span><br></pre></td></tr></table></figure>
<div class="note default"> 
然后我们来看CustomEvent()的语法：
</div>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">event = <span class="keyword">new</span> CustomEvent(typeArg, customEventInit);</span><br></pre></td></tr></table></figure>
typeArg：指定事件类型，传递一个字符串。这里的事件类型指的是像点击事件（click）、提交事件（submit）、加载事件（load）等等。
customEventInit：可选。传递一个CustomEventInit字典。实际上这个字典就是我们使用initCustomEvent()时需要的参数，这个参数就是事件相关值（detail）：
detail：可选，默认值为null，类型为any（也就是说可以传递任意类型的参数）。这个值就是和事件相关联的值。
在展示使用detail作为第二个参数的例子前，要先注意一件事：CustomEventInit字典也可以接受EventInit字典的参数，就像一开始的例子一样，我传递了EventInit字典的bubbles、cancelable、composed。

<div class="note default"> 
下面将展示使用detail参数的例子，使用到detail的部分我会加粗处理（为了看着方便，这回就不传递EventInit字典中的参数了）：
</div>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/* 创建一个事件对象，名字为newEvent，类型为build */</span></span><br><span class="line"><span class="keyword">var</span> newEvent = <span class="keyword">new</span> CustomEvent(<span class="string">'build'</span>,&#123; </span><br><span class="line">    detail: &#123;</span><br><span class="line">        dog:<span class="string">"wo"</span>,<span class="attr">cat</span>:<span class="string">"mio"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 将自定义事件绑定在document对象上 */</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"build"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">" event.detail.dog:"</span> + event.detail.dog</span><br><span class="line">        + <span class="string">"\n event.detail.cat:"</span> + event.detail.cat );</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 触发自定义事件 */</span></span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(newEvent);</span><br></pre></td></tr></table></figure>

<h1 id="17-如何从元素中移除事件监听器"><a href="#17-如何从元素中移除事件监听器" class="headerlink" title="17. 如何从元素中移除事件监听器"></a>17. 如何从元素中移除事件监听器</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span>  off =</span><br><span class="line">    (el,evt,fn,opts=<span class="literal">false</span>) =&gt; el.removeEventListener(evt,fn,opts);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn =<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'!'</span>)</span><br><span class="line"><span class="built_in">document</span>.body.addEventListener(<span class="string">'click'</span>,fn)</span><br><span class="line">off(<span class="built_in">document</span>.body,<span class="string">'click'</span>,fn)</span><br></pre></td></tr></table></figure>

<h1 id="18-如何获得给定毫秒数的可读格式"><a href="#18-如何获得给定毫秒数的可读格式" class="headerlink" title="18. 如何获得给定毫秒数的可读格式"></a>18. 如何获得给定毫秒数的可读格式</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span>  formatDuration = <span class="function"><span class="params">ms</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ms&lt;<span class="number">0</span>) ms = -ms;</span><br><span class="line">    <span class="keyword">const</span> time =&#123;</span><br><span class="line">        day: <span class="built_in">Math</span>.floor(ms/<span class="number">86400000</span>),</span><br><span class="line">        hour:<span class="built_in">Math</span>.floor(ms/<span class="number">3600000</span>) % <span class="number">24</span>,</span><br><span class="line">        minute: <span class="built_in">Math</span>.floor(ms/<span class="number">60000</span>) % <span class="number">60</span>,</span><br><span class="line">        second: <span class="built_in">Math</span>.floor(ms/<span class="number">1000</span>) % <span class="number">60</span>,</span><br><span class="line">        millisecond: <span class="built_in">Math</span>.floor(ms) % <span class="number">1000</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.entries(time)</span><br><span class="line">    .filter(<span class="function"><span class="params">val</span> =&gt;</span> val[<span class="number">1</span>] !== <span class="number">0</span>)</span><br><span class="line">    .map(<span class="function">(<span class="params">[key,val]</span>)=&gt;</span><span class="string">`<span class="subst">$&#123;val&#125;</span> <span class="subst">$&#123;key&#125;</span><span class="subst">$&#123;val !== <span class="number">1</span> ? <span class="string">'s'</span>:<span class="string">''</span>&#125;</span>`</span>)</span><br><span class="line">    .join(<span class="string">','</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">formatDuration(<span class="number">1001</span>);</span><br><span class="line"><span class="comment">//"1 second,1 millisecond"</span></span><br><span class="line">formatDuration(<span class="number">3432505574</span>);</span><br><span class="line"><span class="comment">//"39 days,17 hours,28 minutes,25 seconds,574 milliseconds"</span></span><br></pre></td></tr></table></figure>

<h1 id="19-如何获得两个日期之间的差异（以天为单位）"><a href="#19-如何获得两个日期之间的差异（以天为单位）" class="headerlink" title="19. 如何获得两个日期之间的差异（以天为单位）"></a>19. 如何获得两个日期之间的差异（以天为单位）</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getDaysDiffBetweenDates = <span class="function">(<span class="params">dateInitial,dateFinal</span>)=&gt;</span></span><br><span class="line">    (dateFinal - dateInitial) / (<span class="number">1000</span> * <span class="number">3600</span> *<span class="number">24</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">getDaysDiffBetweenDates(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2020-03-01'</span>),<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2020-03-03'</span>))</span><br></pre></td></tr></table></figure>

<h1 id="20-如何向传递的URL发出GET请求"><a href="#20-如何向传递的URL发出GET请求" class="headerlink" title="20. 如何向传递的URL发出GET请求"></a>20. 如何向传递的URL发出GET请求</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> httpGet = <span class="function">(<span class="params">url,callback,err = <span class="built_in">console</span>.error</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    request.open(<span class="string">'GET'</span>,url,<span class="literal">true</span>);</span><br><span class="line">    request.onload = <span class="function"><span class="params">()</span> =&gt;</span>callback(request.responseText);</span><br><span class="line">    request.onerror = <span class="function"><span class="params">()</span> =&gt;</span> err(request);</span><br><span class="line">    request.send();</span><br><span class="line">&#125;</span><br><span class="line">httpGet(</span><br><span class="line">    <span class="string">'https://jsonplaceholder.typicode.com/posts/1'</span>,</span><br><span class="line">    <span class="built_in">console</span>.log</span><br><span class="line">)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">  "userId": 1,</span></span><br><span class="line"><span class="comment">  "id": 1,</span></span><br><span class="line"><span class="comment">  "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",</span></span><br><span class="line"><span class="comment">  "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h1 id="21-如何对传递的URL发出POST请求"><a href="#21-如何对传递的URL发出POST请求" class="headerlink" title="21. 如何对传递的URL发出POST请求"></a>21. 如何对传递的URL发出POST请求</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> httpPost = <span class="function">(<span class="params">url,data,callback,err = <span class="built_in">console</span>.error</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    request.open(<span class="string">'POST'</span>,url,<span class="literal">true</span>);</span><br><span class="line">    request.setRequestHeader(<span class="string">'Content-type'</span>,<span class="string">'application/json; charset=utf-8'</span>);</span><br><span class="line">    request.onload = <span class="function"><span class="params">()</span> =&gt;</span>callback(request.responseText);</span><br><span class="line">    request.onerror = <span class="function"><span class="params">()</span> =&gt;</span> err(request);</span><br><span class="line">    request.send(data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> postData=&#123;</span><br><span class="line">    userId:<span class="number">1</span>,</span><br><span class="line">    title:<span class="string">'Foo'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> data =<span class="built_in">JSON</span>.stringify(postData)</span><br><span class="line">httpPost(</span><br><span class="line">    <span class="string">'https://jsonplaceholder.typicode.com/posts'</span>,</span><br><span class="line">    data,</span><br><span class="line">    <span class="built_in">console</span>.log</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="22-如何为指定选择器创建具有指定范围，步长和持续时间的计数器"><a href="#22-如何为指定选择器创建具有指定范围，步长和持续时间的计数器" class="headerlink" title="22. 如何为指定选择器创建具有指定范围，步长和持续时间的计数器"></a>22. 如何为指定选择器创建具有指定范围，步长和持续时间的计数器</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> counter = <span class="function">(<span class="params">selector,start,end,step=<span class="number">1</span>,duration</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> current = start;</span><br><span class="line">    _step = (end-start) * step &lt; <span class="number">0</span>?-step : step</span><br><span class="line">    timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        current += _step;</span><br><span class="line">        <span class="built_in">document</span>.querySelector(selector).innerHTML = current;</span><br><span class="line">        <span class="keyword">if</span> (current &gt;= end) &#123;</span><br><span class="line">            <span class="built_in">document</span>.querySelector(selector).innerHTML = end ;</span><br><span class="line">            clearInterval(timer);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="built_in">Math</span>.abs(<span class="built_in">Math</span>.floor(duration/(end-start))));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//示例</span></span><br><span class="line">counter(<span class="string">'#myId'</span>,<span class="number">1</span>,<span class="number">1000</span>,<span class="number">5</span>,<span class="number">20000</span>);</span><br></pre></td></tr></table></figure>

<h1 id="23-如何将字符串复制到剪贴板"><a href="#23-如何将字符串复制到剪贴板" class="headerlink" title="23. 如何将字符串复制到剪贴板"></a>23. 如何将字符串复制到剪贴板</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> copyToClipboard = <span class="function"><span class="params">str</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> el = <span class="built_in">document</span>.createElement(<span class="string">'textarea'</span>);</span><br><span class="line">    el.value = str;</span><br><span class="line">    el.setAttribute(<span class="string">'readonly'</span>,<span class="string">''</span>);</span><br><span class="line">    el.style.position=<span class="string">'absolute'</span>;</span><br><span class="line">    el.style.left = <span class="string">'-9999px'</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(el);</span><br><span class="line">    <span class="keyword">const</span> selected =<span class="built_in">document</span>.getSelection().rangeCount &gt;<span class="number">0</span>?<span class="built_in">document</span>.getSelection().getRangeAt(<span class="number">0</span>):<span class="literal">false</span>;</span><br><span class="line">    el.select();</span><br><span class="line">    <span class="built_in">document</span>.execCommand(<span class="string">'copy'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(el)</span><br><span class="line">    <span class="keyword">if</span>(selected)&#123;</span><br><span class="line">        <span class="built_in">document</span>.getSelection().removeAllRanges();</span><br><span class="line">        <span class="built_in">document</span>.getSelection().addRange(selected);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">copyToClipboard(<span class="string">'www.zeze.info'</span>)</span><br></pre></td></tr></table></figure>
<h1 id="24-如何确定页面的浏览器选项卡是否聚焦"><a href="#24-如何确定页面的浏览器选项卡是否聚焦" class="headerlink" title="24. 如何确定页面的浏览器选项卡是否聚焦"></a>24. 如何确定页面的浏览器选项卡是否聚焦</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isBrowserTabFocused= <span class="function"><span class="params">()</span>=&gt;</span> !<span class="built_in">document</span>.hidden; </span><br><span class="line">isBrowserTabFocused();</span><br></pre></td></tr></table></figure>

<h1 id="25-如何创建目录（如果不存在）"><a href="#25-如何创建目录（如果不存在）" class="headerlink" title="25. 如何创建目录（如果不存在）"></a>25. 如何创建目录（如果不存在）</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs =<span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="keyword">const</span> createDirIfNotExists = <span class="function"><span class="params">dir</span> =&gt;</span>(!fs.existsSync(dir)?fs.mkdirSync(dir):<span class="literal">undefined</span>);</span><br><span class="line">createDirIfNotExists(<span class="string">'test'</span>);</span><br></pre></td></tr></table></figure>

<p>这里面的方法大都挺实用，可以解决很多开发过程问题，大家就好好利用起来吧。</p>
<p><strong><a href="http://www.zeze.info">博主主页</a></strong></p>
<p><strong>可以加博主微信一起交流：<img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="http://img.zeze.info/img/about/wx.jpg!www.zeze.info" alt="twobixiaoxin"></strong></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noopener noreferrer" target="_blank">泽泽853089986@qq.com</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.zeze.info/javaScript/work/js1/">http://www.zeze.info/javaScript/work/js1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external nofollow noopener noreferrer">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.zeze.info" target="_blank">泽泽Plus+搬砖师傅</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="http://www.zeze.info/images/Benz.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="http://img.zeze.info/img/pay/wechatpay.png!www.zeze.info" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="http://img.zeze.info/img/pay/alipay.jpg!www.zeze.info" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/java/concurrent/threadLocal/"><img class="prev_cover" data-src="http://img.zeze.info/design/j1/maxresdefault.jpg!www.zeze.info" onerror="onerror=null;src='http://zeze.info/images/404.gif'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">都说ThreadLocal被面试官问烂了，可为什么面试官还是喜欢继续问</div></div></a></div><div class="next-post pull_right"><a href="/javaScript/oop/if-else/"><img class="next_cover" data-src="http://img.zeze.info/img/js/oop/1213309-20191129234510409-1946711807.png!www.zeze.info" onerror="onerror=null;src='http://zeze.info/images/404.gif'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">你本可以少写些 If-Else</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
var requiredFields = requestSetting(['nick','mail','link'],'nick,mail')

window.valine = new Valine({
  el:'#vcomment',
  appId: 'cCz2akesnpulXXrJFSLeK3MX-9Nh9j0Va',
  appKey: 'Mjv9YhO6r936tN8cgIQXDzoP',
  notify: false,
  verify: false,
  placeholder: '记得留下你的昵称和邮箱...可以快速收到回复',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'zh-cn',
  recordIP: true,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: "",
  enableQQ: false,
  requiredFields: requiredFields
});</script></div></article></main><footer id="footer" style="background-image: url(http://img.zeze.info/img/js/25ES6/1.gif!www.zeze.info)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By 泽泽853089986@qq.com</div><div class="footer_custom_text">谢谢观看我的<a href="https://www.zeze.info/">博客</a>,我会更加努力产出的</div><div class="icp"><a><img class="icp-icon" src="/img/icp.png"><span>鄂ICP备19026749号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode far fa-moon" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/js/search/local-search.js"></script></body></html>